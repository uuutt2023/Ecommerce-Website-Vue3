"use strict";(self["webpackChunkvue3_data_pulse"]=self["webpackChunkvue3_data_pulse"]||[]).push([[326],{4049:function(t,e){e.A=(t,e)=>{const a=t.__vccOpts||t;for(const[s,l]of e)a[s]=l;return a}},6742:function(t,e,a){a.d(e,{A:function(){return g}});var s=a(1806),l=a(8447),c=a(9214);const o=t=>((0,s.Qi)("data-v-32ecd6f6"),t=t(),(0,s.jt)(),t),n={class:"shadow-sm"},r={class:"row d-flex flex-column px-4"},i={id:"bar",class:"col-12"},d={class:"col-1 p-0"},u={id:"topBar-title",class:"col-auto p-0"},p={class:"m-0 text-center"},b={class:"col-auto p-0 d-inline-flex justify-content-end"},v={id:"topBar-section",class:"col-12 p-0"},k=o((()=>(0,s.Lk)("hr",{class:"mb-0 mt-1"},null,-1)));var m={__name:"TopBar",props:{canBack:{type:Boolean,default:()=>!0},title:{type:String,default:()=>""}},setup(t){const e=()=>c.A.back();return(a,c)=>((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("header",r,[(0,s.Lk)("div",i,[(0,s.Lk)("div",d,[t.canBack?((0,s.uX)(),(0,s.CE)("i",{key:0,class:"iconfont icon-back",onClick:e})):(0,s.Q3)("",!0)]),(0,s.Lk)("div",u,[(0,s.Lk)("h5",p,(0,l.v_)(t.title.length>0?t.title:a.$route.meta?.title),1)]),(0,s.Lk)("div",b,[(0,s.RG)(a.$slots,"right")])]),(0,s.Lk)("div",v,[(0,s.RG)(a.$slots,"section")])]),k]))}},f=a(4049);const L=(0,f.A)(m,[["__scopeId","data-v-32ecd6f6"]]);var g=L},326:function(t,e,a){a.r(e),a.d(e,{default:function(){return Q}});var s=a(1806),l=a(8447),c=a(5414),o=a(5705),n=a(8026),r=a(6742),i=a(4421),d=a(3113),u=a(1627);const p=t=>((0,s.Qi)("data-v-7c1d0aba"),t=t(),(0,s.jt)(),t),b={class:"container-fluid p-0"},v={class:"scroll py-3"},k={class:"px-3 pb-0 border-bottom mb-4"},m={key:0,id:"cat-img",class:"carousel slide border border-2 overflow-hidden rounded-3","data-bs-interval":"3000","data-bs-slide":"true","data-bs-ride":"carousel"},f={class:"carousel-indicators"},L=["data-bs-slide-to"],g={class:"carousel-inner w-100"},h=["src"],x=p((()=>(0,s.Lk)("button",{class:"carousel-control-prev","data-bs-slide":"prev","data-bs-target":"#cat-img",type:"button"},[(0,s.Lk)("span",{class:"carousel-control-prev-icon"})],-1))),y=p((()=>(0,s.Lk)("button",{class:"carousel-control-next","data-bs-slide":"next","data-bs-target":"#cat-img",type:"button"},[(0,s.Lk)("span",{class:"carousel-control-next-icon"})],-1))),_={class:"mt-4"},w={class:"fw-bold"},C={class:"lh-lg"},R=p((()=>(0,s.Lk)("small",{class:"d-block text-end"},"12-07 上海",-1))),A={class:"d-block ps-3"},E=["src"],X={class:"flex-grow-1 ms-3"},K=p((()=>(0,s.Lk)("small",{class:"d-block text-secondary"},"n个小时前 - IP属地：天津",-1))),I={class:"lh-sm mb-4"},j={class:"fixed-bottom bg-light border-top border-secondary row align-items-center py-2 px-2 shadow-lg"},B=p((()=>(0,s.Lk)("button",{type:"submit",class:"btn btn-outline-primary rounded-end-5 px-3",id:"btn-sendComment"}," 发送 ",-1)));var $={__name:"DetailHome",setup(t){let e=(0,c.KR)({id:"xxx",title:"标题",description:"简介",name:"小黑",fur_color:"毛色",animal:"动物类别",breed:"品种",user_messages:["用户留言"],url:"图片URL",width:"图片宽度",height:"图片高度"});const a=(0,c.KR)([]);(0,s.dY)((async()=>{await p(),a.value=[e.value.url,...(await u.A.get("/api/random/img/cat?count=4")).data]}));const p=async()=>e.value=(await u.A.get(`/api/detail/cat${location.search}`)).data,$=(0,c.KR)(null),F=(0,c.KR)(null);async function O(){if((0,i.isNull)($.value))return!1;e.value=(await u.A.post("/api/add/comment",{id:e.value.id,name:d.A.state.user.name,comment:$.value,avatar:d.A.getters.currentUserAvatar})).data,$.value=null,await(0,s.dY)((()=>F.value.scrollIntoView({behavior:"smooth"})))}return(t,d)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r.A),(0,s.Lk)("div",b,[(0,s.Lk)("div",v,[(0,s.Lk)("header",k,[a.value&&a.value.length>0?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value.length,(t=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:(0,l.C4)({active:0===--t}),"data-bs-slide-to":t,"data-bs-target":"#cat-img",type:"button"},null,10,L)))),128))]),(0,s.Lk)("div",g,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,((t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,l.C4)([{active:0===e},"carousel-item"])},[(0,s.Lk)("img",{src:t,alt:"轮播图{{index}}",class:"d-block w-100"},null,8,h)],2)))),128))]),x,y])):(0,s.Q3)("",!0),(0,s.Lk)("div",_,[(0,s.Lk)("h4",w,(0,l.v_)((0,c.R1)(e).title),1),(0,s.Lk)("p",C,[(0,s.eW)((0,l.v_)((0,c.R1)(e).description)+" ",1),R])])]),(0,s.Lk)("section",null,[(0,s.Lk)("h5",A,"共"+(0,l.v_)((0,c.R1)(e).user_messages.length)+"条评论",1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,c.R1)(e).user_messages,((t,e)=>((0,s.uX)(),(0,s.CE)("article",{key:e,class:"my-4 px-3 pb-4 d-flex align-items-start border-1 border-bottom"},[(0,s.Lk)("img",{src:(0,c.R1)(i.isObject)(t)?t?.avatar:`https://picsum.photos/48?${e}`,alt:"tx",class:"col-2 rounded-circle flex-shrink-0"},null,8,E),(0,s.Lk)("div",X,[(0,s.Lk)("p",null,[(0,s.eW)((0,l.v_)((0,c.R1)(i.isObject)(t)?t?.name:"测试用户")+" ",1),K]),(0,s.Lk)("p",I,(0,l.v_)((0,c.R1)(i.isObject)(t)?t.comment:t),1)])])))),128))]),(0,s.Lk)("span",{ref_key:"back",ref:F},null,512),(0,s.Lk)("footer",j,[(0,s.Lk)("form",{onSubmit:(0,o.D$)(O,["prevent"]),class:"input-group align-items-center"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":d[0]||(d[0]=t=>$.value=t),"aria-describedby":"btn-sendComment",class:"form-control col py-2 rounded-start-5 border-0",placeholder:"不发没关系，请继续友善哦~",type:"text"},null,512),[[o.Jo,$.value]]),B,(0,s.Lk)("i",{onClick:d[1]||(d[1]=t=>(0,c.R1)(n.wT)((0,c.R1)(e))),class:(0,l.C4)([(0,c.R1)(n.Wv)((0,c.R1)(e))?"icon-like-fill":"icon-like","iconfont col-1 p-0 ps-2 text-center"])},null,2)],32)])])])],64))}},F=a(4049);const O=(0,F.A)($,[["__scopeId","data-v-7c1d0aba"]]);var Q=O}}]);
//# sourceMappingURL=326.1a2978ee.js.map